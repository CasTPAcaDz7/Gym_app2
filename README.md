# 🏋️‍♂️ Fitness App

一個功能豐富的 React Native 健身應用程式，使用 Expo 開發，提供完整的健身追蹤和管理功能。

## ✨ 主要功能

### 📊 卡路里分析系統
- **30/70 分割布局**：圖表區域佔螢幕30%，記錄功能佔70%
- **雙圖表系統**：
  - 今日卡路里攝取環形進度圖 + 運動消耗餅圖（左右分佈）
  - 本月卡路里趨勢線圖（30天數據，包含今日）
- **營養素分佈可視化**：
  - 三個獨立的圓形進度圖：碳水化合物、脂肪、蛋白質
  - 每個圓形圖顯示當前攝取量/目標量
  - 底部顯示剩餘需攝取量
  - 顏色編碼：青綠色(碳水)、紫色(脂肪)、橙色(蛋白質)
- **運動消耗追蹤**：
  - 自動統計今日運動消耗卡路里總量
  - 按運動類型分佈的餅圖顯示
  - 支援8種運動類型（跑步、健身房訓練、騎車、游泳、瑜伽、走路、舞蹈、登山）
  - 從運動記錄頁面同步數據
- **📸 拍照識別功能**：記錄用餐區域的拍照識別按鈕已連接到完整的拍照功能
- **食品數據庫**：Excel風格表格，按日期分組顯示營養記錄
- **主題一致性**：深色主題，#2E3A3B背景，#00CED1重點色

### 📅 日曆系統
- **智能月曆視圖**：完整的月份顯示，支援月份切換
- **響應式設計**：完美適應不同螢幕尺寸
- **今日高亮**：自動標記當前日期
- **週末標記**：特殊顏色顯示週末日期
- **直觀導航**：左右箭頭切換月份，點擊標題回到今天
- **添加活動功能**：圓形+按鈕用於導航到添加活動頁面

### 📊 儀表板 (Dashboard)
- **週曆概覽**：顯示本週日期，高亮今天
- **今日訓練**：完整的訓練計劃表格
  - 訓練項目、重量、組數、次數
  - 一鍵標記完成功能
  - 動態狀態更新
- **Progress 卡片**：
  - 實時同步飲食記錄數據
  - 顯示剩餘卡路里（與飲食記錄頁面數據一致）
  - 可點擊跳轉至飲食記錄頁面
  - 自動載入今日實際攝入卡路里
- **智能評論**：隨機生成每日激勵語
- **快速入口**：Check-In、Weight-In、運動記錄等功能快速訪問按鈕

### 🍎 飲食記錄系統
- **卡路里追蹤**：目標卡路里 vs 實際攝入對比，剩餘卡路里計算
- **營養素分佈**：碳水化合物、脂肪、蛋白質圓形進度圖和剩餘量顯示
- **完整記錄功能**：
  - 記錄食品：搜索24種常見食物，自定義份量，實時營養計算
  - **📸 拍照辨識**：基本拍照功能，支援相機拍攝和相簿選擇，照片預覽和編輯
  - 體重記錄：身高體重輸入、BMI自動計算、歷史記錄和趨勢分析
  - 運動記錄：8種運動類型、時長記錄、卡路里消耗計算
- **智能數據管理**：
  - AsyncStorage 本地存儲
  - 按日期分類的數據結構（diet_YYYY-MM-DD、exercise_YYYY-MM-DD、weight_records）
  - 自動營養成分計算
  - 歷史記錄統計分析
  - Dashboard 與飲食記錄數據實時同步

### 👥 社群平台系統 (Community)
- **半圓形彈出工具欄（v2.14 新增）**：
  - **智能彈出**：當點擊社群頁面時，底部工具欄上方會彈出優雅的半圓形工具欄
  - **完美匹配設計**：工具欄與螢幕同寬，高度更窄，完美融入原有UI設計
  - **流暢動畫系統**：
    * 進入動畫：從底部工具欄後面向上升起，帶有彈性效果和透明度漸變
    * 離開動畫：向下滑出畫面收回，自然消失在底部
    * 智能時序：進入延遲100ms，離開立即執行，動畫時序完美協調
    * 參數優化：進入動畫較慢較柔和，離開動畫較快較直接
  - **雙功能按鈕**：
    * 聊天室：快速進入群組聊天功能
    * 管理教練：一鍵管理我的教練團隊
  - **視覺優化**：
    * 青色半圓形背景與應用主題色彩一致
    * 透明按鈕設計配合內陰影效果
    * 中央分隔線提升視覺層次
    * 增強陰影和邊框效果，與原工具欄呼應
  - **智能顯示**：只在社群頁面激活時顯示，切換到其他頁面自動隱藏
- **聊天室功能（v2.14 新增）**：
  - **群組聊天**：健身新手交流群、減脂經驗分享、重訓愛好者、瑜伽放鬆時光
  - **快速操作**：創建群組、尋找朋友、熱門話題入口
  - **智能介面**：顯示未讀消息數量、最後訊息預覽、群組成員數量
  - **現代設計**：卡片式聊天室列表，圓形頭像和狀態指示器
- **教練管理系統（v2.14 新增）**：
  - **統計總覽**：我的教練數量、完成課程、即將開始的課程統計
  - **教練卡片**：顯示教練頭像、姓名、專業領域、評分、經驗
  - **課程信息**：下次課程時間、總課程數、課程狀態（進行中/待確認）
  - **快速操作**：尋找新教練、預約課程功能入口
  - **詳細資料**：教練評分系統、專業領域標籤、課程統計
- **完整個人檔案頁面**：
  - **卡片式設計**：採用類似社交媒體的個人資料卡片佈局風格
  - **完整頭像系統**：
    * Instagram風格頭像選擇界面
    * 從圖庫選擇：支援從手機相簿選擇照片
    * 拍照功能：直接使用相機拍攝新頭像
    * 移除目前相片：刪除自定義頭像，恢復為預設圖標
    * 8種不同系統圖標可選，彈出式選擇界面
  - **基本資料卡片**：每個資訊項目都是獨立的可點擊卡片
    * 用戶名卡片：點擊可直接編輯用戶名
    * 身高、體重、年齡卡片：提供數字輸入編輯
    * 健身目標卡片：5種目標選擇（減重、增肌、維持體重、體能提升、健康生活）
  - **即時保存**：所有修改都立即保存到本地存儲
- **用戶資訊框**：
  - 簡化用戶資訊顯示：頭像、用戶名、用戶ID顯示
  - 一鍵跳轉個人檔案頁面
- **功能選單系統**：
  - 精簡功能欄設計：尋找教練、健身論壇兩大核心功能
  - 橫向雙卡片布局，操作直觀明瞭

### 🎨 設計特色
- **深色主題**：專業的暗色系設計風格
- **一致配色**：
  - 主背景：#1C2526（深灰）
  - 卡片背景：#2E3A3B（深藍綠）
  - 主文字：#FFFFFF（白色）
  - 副文字：#A9A9A9（淺灰）
  - 重點色：#00CED1（青色）
- **響應式布局**：適應各種螢幕尺寸

## 🚀 技術架構

### 前端框架
- **React Native + Expo**：跨平台移動應用開發
- **React Navigation**：底部標籤導航和堆疊導航
- **React Hooks**：現代化狀態管理

### UI 組件庫
- **@expo/vector-icons**：Material Community Icons
- **react-native-chart-kit**：數據可視化圖表
- **react-native-calendars**：日曆組件
- **react-native-svg**：矢量圖形支援
- **victory-native**：進階圖表組件

### 媒體處理
- **expo-image-picker**：相機和相簿訪問、拍照功能、頭像編輯

### 數據存儲
- **@react-native-async-storage/async-storage**：本地數據持久化

## 📱 頁面結構

### 底部導航
1. **📊 Dashboard**：數據儀表板、訓練追蹤和飲食記錄入口（預設頁面）
2. **🗓️ Calendar**：月曆視圖和活動管理
3. **👥 Community**：健身教練匹配平台和社群功能
4. **📚 Library**：運動資料庫（開發中）
5. **⚙️ Settings**：應用設定（開發中）

### Stack 導航結構
```
Dashboard Stack:
├── DashboardMain (主儀表板)
├── Diet Stack (飲食記錄系統)
│   ├── DietMain (飲食記錄主頁)
│   ├── AddFood (添加食物)
│   ├── FoodPhoto (食物拍照)
│   ├── WeightRecord (體重記錄)
│   └── ExerciseRecord (運動記錄)
├── CaloriesAnalytics (卡路里分析)
├── FoodDatabase (食品數據庫)
├── CheckIn (快速簽到)
├── WeightIn (快速體重記錄)
└── Exercise (運動記錄)

Calendar Stack:
├── CalendarMain (月曆主頁)
└── AddActivity (添加活動)

Community Stack:
├── CommunityMain (社群主頁)
└── Profile (個人檔案)
```

## 🛠️ 安裝與運行

### 環境要求
- Node.js (v16 或更高版本)
- npm 或 yarn
- Expo CLI
- iOS Simulator 或 Android Emulator

### 安裝步驟

```bash
# 克隆專案
git clone https://github.com/CasTPAcaDz7/fitness-app.git
cd fitness-app/FitnessApp

# 安裝依賴項
npm install

# 啟動開發服務器
npx expo start
```

### 運行選項
- **iOS**：按 `i` 在 iOS 模擬器中運行
- **Android**：按 `a` 在 Android 模擬器中運行
- **Web**：按 `w` 在 瀏覽器中運行
- **實體設備**：使用 Expo Go 應用掃描 QR 碼

## 📦 依賴項

### 核心依賴
```json
{
  "@expo/metro-runtime": "~5.0.4",
  "@react-native-async-storage/async-storage": "^2.1.2",
  "@react-navigation/bottom-tabs": "^7.3.14",
  "@react-navigation/native": "^7.1.10",
  "@react-navigation/stack": "^7.3.3",
  "expo": "~53.0.9",
  "expo-image-picker": "^16.1.4",
  "expo-status-bar": "~2.2.3",
  "react": "19.0.0",
  "react-native": "0.79.2"
}
```

### 功能依賴
```json
{
  "react-native-calendars": "^1.1312.1",
  "react-native-chart-kit": "^6.12.0",
  "react-native-gesture-handler": "~2.24.0",
  "react-native-reanimated": "~3.17.4",
  "react-native-safe-area-context": "5.4.0",
  "react-native-screens": "~4.10.0",
  "react-native-svg": "15.11.2",
  "react-native-web": "^0.20.0",
  "victory-native": "^41.17.3"
}
```

## 🔧 開發說明

### 項目結構
```
FitnessApp/
├── screens/           # 頁面組件
│   ├── CalendarScreen.js
│   ├── DashboardScreen.js
│   ├── CommunityScreen.js
│   ├── ProfileScreen.js
│   ├── ChatRoomScreen.js          # 聊天室頁面
│   ├── CoachManageScreen.js       # 教練管理頁面
│   ├── DietScreen.js
│   ├── AddFoodScreen.js
│   ├── CaloriesAnalyticsScreen.js
│   └── [其他功能頁面]
├── components/        # 共用組件
│   ├── SemicirclePopup.js         # 半圓形彈出組件
│   └── DataMigrationManager.js
├── navigation/        # 導航配置
│   └── AppNavigator.js            # 包含自定義TabBar
├── hooks/            # 自定義 Hooks
├── services/         # 數據服務
├── assets/           # 靜態資源
└── app.json          # Expo 配置
```

### 數據管理
- **本地存儲**：使用 AsyncStorage 進行數據持久化
- **狀態管理**：使用 React Hooks 管理組件狀態
- **數據結構**：按日期分類的結構化存儲

### 樣式規範
- 使用 StyleSheet.create() 創建樣式
- 遵循一致的顏色和字體規範
- 響應式設計原則

## 🎯 未來規劃

### 第一階段（已完成）
- ✅ 基礎項目架構
- ✅ 底部導航系統
- ✅ 日曆功能完整實現
- ✅ Dashboard 核心功能
- ✅ 飲食記錄系統完整實現
- ✅ Community個人檔案系統
- ✅ 本地數據存儲系統

### 第二階段（計劃中）
- 🔄 Firebase 後端集成
- 🔄 用戶認證系統
- 🔄 真實數據存儲
- 🔄 社群功能開發
- 🔄 運動資料庫完善

### 第三階段（未來）
- 📋 個人訓練計劃
- 📊 進階數據分析
- 🏆 成就系統
- 📱 推送通知
- 🌐 多語言支援

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request！

## 📄 許可證

MIT License

## 📞 聯繫

- GitHub: [@CasTPAcaDz7](https://github.com/CasTPAcaDz7)
- Repository: [fitness-app](https://github.com/CasTPAcaDz7/fitness-app)

---

**最後更新**: 2024年12月 - v2.14 半圓形彈出工具欄與社群功能擴展

## 📝 版本記錄

### v2.14 - 半圓形彈出工具欄與社群功能擴展
- 創建創新的半圓形彈出工具欄，當點擊社群頁面時在底部工具欄上方彈出
- 實現流暢的彈性動畫效果，智能顯示/隱藏機制
- 新增聊天室功能：群組聊天列表、快速操作、未讀消息提示
- 新增教練管理系統：統計總覽、教練卡片、課程管理
- 半圓形工具欄包含聊天室和管理教練兩個快速入口
- 自定義TabBar組件，完美集成半圓形彈出功能

### v2.13 - README重構和文件清理
- 移除所有虛假功能描述，確保文檔真實性
- 修正依賴項描述，與實際package.json完全匹配
- 刪除重複和未使用的文件，優化專案結構
- 簡化版本記錄，聚焦真實開發進程

### v2.12 - 完整個人檔案系統實現
- 創建全新的ProfileScreen.js，實現完整個人檔案功能
- 卡片式設計和完整頭像系統
- 個人資訊直接編輯功能
- 正確導航連接和即時數據保存

### v2.11 - 導航優化
- 移除舊版本個人檔案頁面
- 簡化導航結構，統一用戶設定入口

### v2.10 - 用戶資訊框優化
- 簡化用戶資訊顯示
- 新增用戶ID顯示系統

### v2.9 - 個人資訊系統
- 實現跨頁面數據同步
- 智能頭像顯示系統
- 個人資訊直接編輯功能

### v2.8 - UI佈局優化
- 大幅調整個人資訊按鈕尺寸
- 增強視覺層次和用戶體驗

### v2.1-2.7 - 基礎功能實現
- 日曆系統完善
- Dashboard功能開發
- 飲食記錄系統實現
- 錯誤修復和穩定性改進 